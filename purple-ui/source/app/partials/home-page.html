
	<!-- /.container -->
	<nav class="navbar navbar-inverse bottom-nav">
  <div class="container-fluid">
    <div class="current-page">
				<h5>
					<a href="#" class="current-active">timeline</a>
				</h5>
			</div>
  </div>
</nav>




<!-- Left side column. contains the logo and sidebar -->
<aside class="main-sidebar left-side" ng-init="loadStatusTimeline()">
  <section class="sidebar">
     <div class="panel-group" id="accordion" ng-init="loadUserProjects()">
       <div class="panel panel-default">
         <div class="panel-heading project-active">
           <h4 class="panel-title">
            <a class="accordion-toggle" data-toggle="collapse" data-target="#collapseOne">
             <i class="fa fa-inbox"></i>
             <span>PROJECTS</span></a>
           </h4>
         </div>
		 
       <div id="collapseOne" class="panel-collapse collapse in">
         <div class="panel-body">
           <ul class="list-group">
              <li class="sel"><a ng-click="loadStatusTimeline()" >ALL</a></li>
		      <li role="menu" aria-labelledby="dropdownMenu"  ng-repeat="project in userprojects"><a ng-click="loadProjectMap(project.projectId)" >{{project.projectName}}</a></li>        
            </ul>
          </div>
       </div>

      </div>
  

      <div class="panel panel-default">
         <div class="panel-heading project-active">
            <h4 class="panel-title">
              <a class="accordion-toggle" data-toggle="collapse" data-target="#collapseTwo">
               <i class="fa fa-user"></i> <span>USERS</span>
              </a>
            </h4>
          </div>
      <div id="collapseTwo" class="panel-collapse collapse in">
         <div class="panel-body">
            <ul class="list-group"  ng-repeat="users in projectUsers">
              <li><a ng-click="loadUserMap(users.email)">{{users.userName}}</a></li>
            </ul>
          </div>

      </div>
     </div>
  </div>
 </section>
</aside>
	<!-- /.sidebar ends -->
	
    <div id="page-content-wrapper">
     <div class="container-fluid">
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
         <!-- Main content -->
        <div class="content">
		
		
        <md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="left"> 
         
         <md-content layout-padding=""> 
               
			   <div class="col-md-5">
			     <div class="left-panel" ng-repeat = "status in statusList">
				 <div class="header-title">
				      <small> 
				         <ng-letter-avatar data="{{userName}}" shape="round"></ng-letter-avatar>
				      </small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			             <h4># {{status.projectName}} @ {{status.userName}}</h4>
			             <p style="margin-left:60px; font-weight: 600; color: #bcbcbc; font-size: 13px;">{{status.hours}} hrs </p>
				 </div>
			        <div class="timeline-body worked-on" >
									 <h3>worked on</h3>
										<p>{{status.workedOn}}</p>
		                           </div>

                                   <div class="timeline-body working-on">
									  <h3>working on</h3>
									   <p>{{status.workingOn}}</p>
								   </div>

                                   <div class="timeline-body blocker-on">
									  <h3>blockers</h3>
									  <p>{{status.blockers}}</p>
								   </div>
			     </div>
			  </div>
			    <div class="col-md-7 comment-side">
						  <md-button class="md-icon-button" aria-label="Close Side Panel" ng-click="closeSideNavPanel()"> 
           <md-tooltip>Close Side Panel</md-tooltip> 
           <md-icon class="md-default-theme" class="material-icons">X</md-icon> </md-button>
						<div class="sidebar-nav">
			  <form name="myForm">
                <div class="form-group">
				
				  
                  <label for="comment">Comment:</label>
                    <textarea class="form-control" id="text" name="text" rows="5" id="comment" ng-model="formData.commentDesc" required></textarea>
                    
					<h6 class="pull-right" id="count_message">
					
                  </div>
                  <button type="button" class="btn btn-default submit" style="width:30% !important;" ng-click= "addComment(selectedStatusId)" ng-disabled="myForm.$invalid">POST</button>
              </form>
			</div>
                <hr />
				
				
           <!---reaply---->
		    <div class="comment-box">
			   <div class="comment-box--content">
            <div class="sidebar-nav comment-list-group" ng-repeat="comment in allcomments">
			 
               <small> <ng-letter-avatar data="{{userName}}"
						shape="round"></ng-letter-avatar>
				</small>
                 <div class="user-label">
                   <h4>{{userName}}</h4>
                    <p class="comment">
					{{comment.commentDesc}}
					</p>
                </div>
				
				<!---replied--->
				 <div class="user-label">
				 
				  <div class="comment-link">
					<a href="#" ng-click="showreplyDetails = ! showreplyDetails; loadReply(comment.commentId)">{{comment.replyCount}} Replies</a>
					
					<h4 class="reaply"><a href="#" ng-click="showDetails = ! showDetails"><img src="../../assets/img/reply.png" style="width: 20px;" title="Replied"></a></h4>
					</div>
					
					 <div class="procedure-details" ng-show="showreplyDetails">
					    <div class="user-label" ng-repeat="reply in allreplies">
                   <h4>{{reply.userName}}</h4>
                    <p class="comment">{{reply.replyDesc}}</p>
                </div>
					 </div>
					 
					  <div class="procedure-details" ng-show="showDetails">
                   <form name="myForm">
				   
                <div class="form-group">
				<input type="hidden" ng-model= "commentId"/>
                  <label for="comment">Reply Comment: <span><a href="#" ng-click="showDetails = ! showDetails" style="float:right;">close</a></span></label>
                    <textarea class="form-control" id="text" name="text" rows="5" id="replyDesc" ng-model="replyObj.replyDesc" requiredclear-input></textarea>
                    <h6 class="pull-right" id="count_message">
                  </div>
                 <button type="button" class="btn btn-default submit" style="width:30% !important;" ng-click= "postReply(replyObj, comment.commentId)" ng-disabled="myForm.$invalid">REPLY</button>
              </form>
			  
              </div>
                </div>
				<!---reply--->
				
			</div>
			</div>
			</div>
           </div>
			  
          </md-content> 
         </md-sidenav> 



</div>

		  
		
         <!-- Page Content -->
                <div class="wrapper">
                     <div class="top-header">
						<!--  <span class="project"><span class="hash"># </span>{{status.projectName}}</span> -->
						
					<span ng-if="isActive == true" class="username" ><span class="hash" ># </span>All Projects</span> 
					<span ng-if="isProject == true" class="username" ><span class="hash" ># </span>{{selected.projectName}}</span> 
					<span ng-if="isUser == true" class="username" ><span class="hash" >@ </span>{{selected.userName}}</span> 
					 </div>
					 
					 <!---timeline---->
                      <ul class="timeline newid" ng-repeat="artist in artists">
                        <div class="date-time">
                           <p>{{artist.date}}</p>
                         </div>
						 
                           <li ng-repeat="status in artist.statusList"  ng-class-odd="'timeline-inverted'" ng-class-even="''">
                             <div class="timeline-badge"></div>
                               <div class="timeline-panel">
           

                                 <div class="edit-left-side">
								  <a role="button" ng-click="openCommentSideBar(status.statusId); openSideNavPanel()"><img src="../../assets/img/comment.svg"></a>

								 
								 </div>

                                  <div class="timeline-heading">
                                  
                                     <h4 ng-show="{{isActive}}"><span class="hash"># </span> {{status.projectName}} <span class="hash">@ </span> {{status.userName}}
                                     <span  style="float:right"> {{status.time}}</span>
									</h4>
                                     <h4 ng-show="{{isProject}}"><span class="hash">@ </span> {{status.userName}}
                                     <span  style="float:right"> {{status.time}}</span>
									</h4>
                                     <h4 ng-show="{{isUser}}"><span class="hash"># </span> {{status.projectName}}
                                     <span  style="float:right"> {{status.time}}</span>
									</h4>
									<p>{{status.hours}}hrs</p> 
                                   </div>
								   
                                  <div class="timeline-body worked-on">
									 <h3>worked on</h3>
										<p>{{status.workedOn}}</p>
		                           </div>

                                   <div class="timeline-body working-on">
									  <h3>working on</h3>
									   <p>{{status.workingOn}}</p>
								   </div>

                                   <div class="timeline-body blocker-on">
									  <h3>blockers</h3>
									  <p>{{status.blockers}}</p>
								   </div>

                              </div>
                          </li>
    
                                    <li class="clearfix no-float"></li>
                             </ul>
  
                       
                    </div>
                </div>
          </div>
      </div>
</div>
</div>


<script>

	var text_max = 200;
	$('#count_message').html(text_max + ' /200');

	$('#text').keyup(function() {
		var text_length = $('#text').val().length;
		var text_remaining = text_max - text_length;

		$('#count_message').html(text_remaining + ' /200');
	});

	var text_max = 200;
	$('#count_message-reaply').html(text_max + ' /200');

	$('#reaply').keyup(function() {
		var text_length = $('#reaply').val().length;
		var text_remaining = text_max - text_length;

		$('#count_message-reaply').html(text_remaining + ' /200');
	});
</script>
